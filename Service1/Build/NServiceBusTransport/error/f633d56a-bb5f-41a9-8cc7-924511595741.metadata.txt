{
  "NServiceBus.MessageId": "d14c216e-eb7c-40be-a18f-b25600d10ef0",
  "NServiceBus.MessageIntent": "Send",
  "NServiceBus.RelatedTo": "e19059e7-6695-465e-a5e2-b25600d10ecb",
  "NServiceBus.ConversationId": "45de0091-bd9e-4c08-9381-b25600d10e1e",
  "NServiceBus.CorrelationId": "f484b0d6-19f6-46c1-bd97-b25600d10e1e",
  "NServiceBus.OriginatingSagaId": "59a77f1a-3f95-4969-a3f8-b25600d10e4d",
  "NServiceBus.OriginatingSagaType": "Application.Sagas.OrderSaga, Service2.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",
  "NServiceBus.ReplyToAddress": "OrderService",
  "NServiceBus.OriginatingMachine": "jeffreys-mbp",
  "NServiceBus.OriginatingEndpoint": "OrderService",
  "$.diagnostics.originating.hostid": "d309aa414acd49e0df31838774cf637a",
  "NServiceBus.ContentType": "application\/json",
  "NServiceBus.EnclosedMessageTypes": "Application.Commands.SaveOrder, Service2.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",
  "NServiceBus.Version": "9.2.3",
  "NServiceBus.TimeSent": "2024-12-30 12:41:09:489544 Z",
  "NServiceBus.ProcessingMachine": "jeffreys-mbp",
  "NServiceBus.Retries.Timestamp": "2024-12-30 12:41:47:250111 Z",
  "NServiceBus.DeliverAt": "2024-12-30 12:41:21:326285 Z",
  "NServiceBus.ProcessingEndpoint": "OrderService",
  "$.diagnostics.hostid": "d309aa414acd49e0df31838774cf637a",
  "$.diagnostics.hostdisplayname": "jeffreys-mbp",
  "NServiceBus.FailedQ": "OrderService",
  "NServiceBus.ExceptionInfo.ExceptionType": "System.Exception",
  "NServiceBus.ExceptionInfo.InnerExceptionType": "Microsoft.EntityFrameworkCore.DbUpdateException",
  "NServiceBus.ExceptionInfo.HelpLink": null,
  "NServiceBus.ExceptionInfo.Message": "An error occurred while saving the order.",
  "NServiceBus.ExceptionInfo.Source": "Service2.Infrastructure",
  "NServiceBus.ExceptionInfo.StackTrace": "System.Exception: An error occurred while saving the order.\n ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '528c10cf-dd18-4b20-9cd1-b111efec5c4c' for key 'products.PRIMARY'\n   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in \/_\/src\/MySqlConnector\/Core\/ServerSession.cs:line 894\n   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in \/_\/src\/MySqlConnector\/Core\/ResultSet.cs:line 37\n   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in \/_\/src\/MySqlConnector\/MySqlDataReader.cs:line 130\n   at MySqlConnector.MySqlDataReader.InitAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in \/_\/src\/MySqlConnector\/MySqlDataReader.cs:line 483\n   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in \/_\/src\/MySqlConnector\/Core\/CommandExecutor.cs:line 56\n   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in \/_\/src\/MySqlConnector\/MySqlCommand.cs:line 357\n   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in \/_\/src\/MySqlConnector\/MySqlCommand.cs:line 350\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Infrastructure.Repositories.OrderRepository.SaveOrderAsync(Order order) in \/Users\/roed\/IdeaProjects\/Repo\/MSTemplate\/Service2\/Service2.Infrastructure\/Repositories\/OrderRepository.cs:line 29\n   --- End of inner exception stack trace ---\n   at Infrastructure.Repositories.OrderRepository.SaveOrderAsync(Order order) in \/Users\/roed\/IdeaProjects\/Repo\/MSTemplate\/Service2\/Service2.Infrastructure\/Repositories\/OrderRepository.cs:line 36\n   at Application.Handlers.SaveOrderHandler.Handle(SaveOrder message, IMessageHandlerContext context) in \/Users\/roed\/IdeaProjects\/Repo\/MSTemplate\/Service2\/Service2.Application\/Handlers\/SaveOrderHandler.cs:line 33\n   at NServiceBus.InvokeHandlerTerminator.Terminate(IInvokeHandlerContext context) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/InvokeHandlerTerminator.cs:line 27\n   at NServiceBus.SagaPersistenceBehavior.Invoke(IInvokeHandlerContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Sagas\/SagaPersistenceBehavior.cs:line 41\n   at NServiceBus.LoadHandlersConnector.Invoke(IIncomingLogicalMessageContext context, Func`2 stage) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/LoadHandlersConnector.cs:line 49\n   at NServiceBus.InvokeSagaNotFoundBehavior.Invoke(IIncomingLogicalMessageContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Sagas\/InvokeSagaNotFoundBehavior.cs:line 17\n   at NServiceBus.DeserializeMessageConnector.Invoke(IIncomingPhysicalMessageContext context, Func`2 stage) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/DeserializeMessageConnector.cs:line 39\n   at NServiceBus.InvokeAuditPipelineBehavior.Invoke(IIncomingPhysicalMessageContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Audit\/InvokeAuditPipelineBehavior.cs:line 19\n   at NServiceBus.ProcessingStatisticsBehavior.Invoke(IIncomingPhysicalMessageContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Performance\/Statistics\/ProcessingStatisticsBehavior.cs:line 25\n   at NServiceBus.TransportReceiveToPhysicalMessageConnector.Invoke(ITransportReceiveContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/TransportReceiveToPhysicalMessageConnector.cs:line 36\n   at NServiceBus.RetryAcknowledgementBehavior.Invoke(ITransportReceiveContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/ServicePlatform\/Retries\/RetryAcknowledgementBehavior.cs:line 25\n   at NServiceBus.MainPipelineExecutor.Invoke(MessageContext messageContext, CancellationToken cancellationToken) in \/_\/src\/NServiceBus.Core\/Pipeline\/MainPipelineExecutor.cs:line 50\n   at NServiceBus.MainPipelineExecutor.Invoke(MessageContext messageContext, CancellationToken cancellationToken) in \/_\/src\/NServiceBus.Core\/Pipeline\/MainPipelineExecutor.cs:line 78\n   at NServiceBus.LearningTransportMessagePump.ProcessFile(ILearningTransportTransaction transaction, String messageId, CancellationToken messageProcessingCancellationToken) in \/_\/src\/NServiceBus.Core\/Transports\/Learning\/LearningTransportMessagePump.cs:line 340",
  "NServiceBus.TimeOfFailure": "2024-12-30 12:42:20:564560 Z",
  "NServiceBus.ExceptionInfo.Data.Message type": "Application.Commands.SaveOrder",
  "NServiceBus.ExceptionInfo.Data.Handler type": "Application.Handlers.SaveOrderHandler",
  "NServiceBus.ExceptionInfo.Data.Handler start time": "2024-12-30 12:42:20:373588 Z",
  "NServiceBus.ExceptionInfo.Data.Handler failure time": "2024-12-30 12:42:20:562173 Z",
  "NServiceBus.ExceptionInfo.Data.Handler canceled": "False",
  "NServiceBus.ExceptionInfo.Data.Message ID": "d14c216e-eb7c-40be-a18f-b25600d10ef0",
  "NServiceBus.ExceptionInfo.Data.Transport message ID": "3893f142-2457-4cd3-96f2-eb36bead72f3",
  "NServiceBus.ExceptionInfo.Data.Pipeline canceled": "False"
}
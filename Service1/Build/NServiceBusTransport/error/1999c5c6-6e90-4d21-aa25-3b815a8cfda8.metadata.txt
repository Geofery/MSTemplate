{
  "NServiceBus.MessageId": "57e0a707-1578-4e7a-ad21-b25600887478",
  "NServiceBus.MessageIntent": "Send",
  "NServiceBus.RelatedTo": "39af16e4-3a2a-4574-91c6-b2560088744a",
  "NServiceBus.ConversationId": "70a79d05-c7a0-427f-9fd8-b25600887085",
  "NServiceBus.CorrelationId": "b3c5906d-4743-4fef-84ae-b25600887083",
  "NServiceBus.OriginatingSagaId": "43ab84a4-3ed8-4b0a-9e0d-b25600887105",
  "NServiceBus.OriginatingSagaType": "Application.Sagas.OrderSaga, Service2.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",
  "NServiceBus.ReplyToAddress": "OrderService",
  "NServiceBus.OriginatingMachine": "jeffreys-mbp",
  "NServiceBus.OriginatingEndpoint": "OrderService",
  "$.diagnostics.originating.hostid": "d309aa414acd49e0df31838774cf637a",
  "NServiceBus.ContentType": "application\/json",
  "NServiceBus.EnclosedMessageTypes": "Application.Commands.UpdateOrderPaymentStatus, Service2.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",
  "NServiceBus.Version": "9.2.3",
  "NServiceBus.TimeSent": "2024-12-30 08:16:49:040884 Z",
  "NServiceBus.ProcessingMachine": "jeffreys-mbp",
  "NServiceBus.Retries.Timestamp": "2024-12-30 08:17:27:084972 Z",
  "NServiceBus.DeliverAt": "2024-12-30 08:17:01:201314 Z",
  "NServiceBus.ProcessingEndpoint": "OrderService",
  "$.diagnostics.hostid": "d309aa414acd49e0df31838774cf637a",
  "$.diagnostics.hostdisplayname": "jeffreys-mbp",
  "NServiceBus.FailedQ": "OrderService",
  "NServiceBus.ExceptionInfo.ExceptionType": "System.Exception",
  "NServiceBus.ExceptionInfo.InnerExceptionType": "System.InvalidCastException",
  "NServiceBus.ExceptionInfo.HelpLink": null,
  "NServiceBus.ExceptionInfo.Message": "An error occurred while updating the order.",
  "NServiceBus.ExceptionInfo.Source": "Service2.Infrastructure",
  "NServiceBus.ExceptionInfo.StackTrace": "System.Exception: An error occurred while updating the order.\n ---> System.InvalidCastException: Unable to cast object of type 'System.DBNull' to type 'System.String'.\n   at MySqlConnector.Core.Row.GetString(Int32 ordinal) in \/_\/src\/MySqlConnector\/Core\/Row.cs:line 355\n   at MySqlConnector.MySqlDataReader.GetString(Int32 ordinal) in \/_\/src\/MySqlConnector\/MySqlDataReader.cs:line 293\n   at lambda_method229(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\n   at Infrastructure.Repositories.OrderRepository.UpdateOrderAsync(Order order) in \/Users\/roed\/IdeaProjects\/Repo\/MSTemplate\/Service2\/Service2.Infrastructure\/Repositories\/OrderRepository.cs:line 64\n   --- End of inner exception stack trace ---\n   at Infrastructure.Repositories.OrderRepository.UpdateOrderAsync(Order order) in \/Users\/roed\/IdeaProjects\/Repo\/MSTemplate\/Service2\/Service2.Infrastructure\/Repositories\/OrderRepository.cs:line 90\n   at Application.Handlers.UpdateOrderPaymentStatusHandler.Handle(UpdateOrderPaymentStatus message, IMessageHandlerContext context) in \/Users\/roed\/IdeaProjects\/Repo\/MSTemplate\/Service2\/Service2.Application\/Handlers\/UpdateOrderPaymentStatusHandler.cs:line 30\n   at NServiceBus.InvokeHandlerTerminator.Terminate(IInvokeHandlerContext context) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/InvokeHandlerTerminator.cs:line 27\n   at NServiceBus.SagaPersistenceBehavior.Invoke(IInvokeHandlerContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Sagas\/SagaPersistenceBehavior.cs:line 41\n   at NServiceBus.LoadHandlersConnector.Invoke(IIncomingLogicalMessageContext context, Func`2 stage) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/LoadHandlersConnector.cs:line 49\n   at NServiceBus.InvokeSagaNotFoundBehavior.Invoke(IIncomingLogicalMessageContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Sagas\/InvokeSagaNotFoundBehavior.cs:line 17\n   at NServiceBus.DeserializeMessageConnector.Invoke(IIncomingPhysicalMessageContext context, Func`2 stage) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/DeserializeMessageConnector.cs:line 39\n   at NServiceBus.InvokeAuditPipelineBehavior.Invoke(IIncomingPhysicalMessageContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Audit\/InvokeAuditPipelineBehavior.cs:line 19\n   at NServiceBus.ProcessingStatisticsBehavior.Invoke(IIncomingPhysicalMessageContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Performance\/Statistics\/ProcessingStatisticsBehavior.cs:line 25\n   at NServiceBus.TransportReceiveToPhysicalMessageConnector.Invoke(ITransportReceiveContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/Pipeline\/Incoming\/TransportReceiveToPhysicalMessageConnector.cs:line 36\n   at NServiceBus.RetryAcknowledgementBehavior.Invoke(ITransportReceiveContext context, Func`2 next) in \/_\/src\/NServiceBus.Core\/ServicePlatform\/Retries\/RetryAcknowledgementBehavior.cs:line 25\n   at NServiceBus.MainPipelineExecutor.Invoke(MessageContext messageContext, CancellationToken cancellationToken) in \/_\/src\/NServiceBus.Core\/Pipeline\/MainPipelineExecutor.cs:line 50\n   at NServiceBus.MainPipelineExecutor.Invoke(MessageContext messageContext, CancellationToken cancellationToken) in \/_\/src\/NServiceBus.Core\/Pipeline\/MainPipelineExecutor.cs:line 78\n   at NServiceBus.LearningTransportMessagePump.ProcessFile(ILearningTransportTransaction transaction, String messageId, CancellationToken messageProcessingCancellationToken) in \/_\/src\/NServiceBus.Core\/Transports\/Learning\/LearningTransportMessagePump.cs:line 340",
  "NServiceBus.TimeOfFailure": "2024-12-30 08:18:00:114633 Z",
  "NServiceBus.ExceptionInfo.Data.Message type": "Application.Commands.UpdateOrderPaymentStatus",
  "NServiceBus.ExceptionInfo.Data.Handler type": "Application.Handlers.UpdateOrderPaymentStatusHandler",
  "NServiceBus.ExceptionInfo.Data.Handler start time": "2024-12-30 08:17:59:939897 Z",
  "NServiceBus.ExceptionInfo.Data.Handler failure time": "2024-12-30 08:18:00:112562 Z",
  "NServiceBus.ExceptionInfo.Data.Handler canceled": "False",
  "NServiceBus.ExceptionInfo.Data.Message ID": "57e0a707-1578-4e7a-ad21-b25600887478",
  "NServiceBus.ExceptionInfo.Data.Transport message ID": "bd83da35-fccb-41a4-b2c3-e54de205ea79",
  "NServiceBus.ExceptionInfo.Data.Pipeline canceled": "False"
}